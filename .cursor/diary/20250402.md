Collecting workspace information# Job Scraper Project: Phase 1 Implementation Plan

## Phase 1: Initial Setup and Core Architecture

Based on the project requirements, I'll guide you through setting up the foundational architecture for your job scraper platform. Let's break down the implementation into clear, manageable steps:

### Step 1: Create Project Directory and Initialize Git Repository

```bash
# Create project directory
mkdir job-scraper
cd job-scraper

# Initialize git repository
git init

# Create basic .gitignore file
echo "node_modules/
.env
.next
dist/
build/
*.log
.DS_Store" > .gitignore
```

### Step 2: Set Up Monorepo Structure

```bash
# Create apps directory
mkdir -p apps/frontend apps/backend

# Initialize root package.json
npm init -y

# Update package.json to support workspaces
```

Modify the root `package.json` to include workspaces:

```json
{
  "name": "job-scraper",
  "version": "1.0.0",
  "private": true,
  "workspaces": [
    "apps/*"
  ],
  "scripts": {
    "dev": "concurrently \"npm run dev:frontend\" \"npm run dev:backend\"",
    "dev:frontend": "cd apps/frontend && npm run dev",
    "dev:backend": "cd apps/backend && npm run dev",
    "build": "npm run build:frontend && npm run build:backend",
    "build:frontend": "cd apps/frontend && npm run build",
    "build:backend": "cd apps/backend && npm run build"
  },
  "devDependencies": {
    "concurrently": "^8.2.0"
  }
}
```

### Step 3: Initialize Next.js Frontend

```bash
# Navigate to frontend directory
cd apps/frontend

# Initialize Next.js with TypeScript
npx create-next-app@latest . --typescript --eslint

# Return to project root
cd ../..
```

### Step 4: Initialize Nest.js Backend

```bash
# Install Nest CLI globally if needed
npm install -g @nestjs/cli

# Navigate to backend directory
cd apps/backend

# Initialize Nest.js with TypeScript
nest new . --package-manager npm

# Return to project root
cd ../..
```

### Step 5: Configure Database Connection in Backend

Install necessary dependencies:

```bash
cd apps/backend
npm install --save @nestjs/typeorm typeorm pg dotenv
cd ../..
```

Create a `.env` file in the backend directory:

```bash
echo "DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_USERNAME=postgres
DATABASE_PASSWORD=yourpassword
DATABASE_NAME=job_scraper" > apps/backend/.env
```

### Step 6: Configure Nest.js for Database Connection

Create/update the database connection module in the backend:

```typescript
// apps/backend/src/config/database.config.ts
import { TypeOrmModuleOptions } from '@nestjs/typeorm';
import * as dotenv from 'dotenv';

dotenv.config();

export const databaseConfig: TypeOrmModuleOptions = {
  type: 'postgres',
  host: process.env.DATABASE_HOST,
  port: parseInt(process.env.DATABASE_PORT, 10) || 5432,
  username: process.env.DATABASE_USERNAME,
  password: process.env.DATABASE_PASSWORD,
  database: process.env.DATABASE_NAME,
  entities: [],
  synchronize: false, // Set to false in production
};
```

Update the app module to use the database connection:

```typescript
// apps/backend/src/app.module.ts
import { Module } from '@nestjs/common';
import { TypeOrmModule } from '@nestjs/typeorm';
import { AppController } from './app.controller';
import { AppService } from './app.service';
import { databaseConfig } from './config/database.config';

@Module({
  imports: [
    TypeOrmModule.forRoot(databaseConfig),
  ],
  controllers: [AppController],
  providers: [AppService],
})
export class AppModule {}
```

### Step 7: Add Health Check Endpoint to Backend

```typescript
// apps/backend/src/app.controller.ts
import { Controller, Get } from '@nestjs/common';
import { AppService } from './app.service';

@Controller()
export class AppController {
  constructor(private readonly appService: AppService) {}

  @Get()
  getHello(): string {
    return this.appService.getHello();
  }

  @Get('health')
  healthCheck(): { status: string; timestamp: number } {
    return this.appService.healthCheck();
  }
}

// apps/backend/src/app.service.ts
import { Injectable } from '@nestjs/common';

@Injectable()
export class AppService {
  getHello(): string {
    return 'Hello World!';
  }

  healthCheck(): { status: string; timestamp: number } {
    return {
      status: 'ok',
      timestamp: Date.now(),
    };
  }
}
```

### Step 8: Enable CORS in Backend

```typescript
// apps/backend/src/main.ts
import { NestFactory } from '@nestjs/core';
import { AppModule } from './app.module';

async function bootstrap() {
  const app = await NestFactory.create(AppModule);
  
  // Enable CORS for frontend
  app.enableCors({
    origin: 'http://localhost:3000',
    methods: 'GET,HEAD,PUT,PATCH,POST,DELETE',
    credentials: true,
  });
  
  await app.listen(3001);
  console.log(`Application is running on: http://localhost:3001`);
}
bootstrap();
```

### Step 9: Update Frontend to Call Backend Health Check

```typescript
// apps/frontend/pages/index.tsx
import { useEffect, useState } from 'react'
import styles from '../styles/Home.module.css'

export default function Home() {
  const [apiStatus, setApiStatus] = useState('Loading...')

  useEffect(() => {
    const checkApi = async () => {
      try {
        const response = await fetch('http://localhost:3001/health')
        const data = await response.json()
        if (data.status === 'ok') {
          setApiStatus('API is healthy ✅')
        } else {
          setApiStatus('API is not responding correctly ❌')
        }
      } catch (error) {
        setApiStatus('Failed to connect to API ❌')
        console.error('Error connecting to API:', error)
      }
    }

    checkApi()
  }, [])

  return (
    <div className={styles.container}>
      <main className={styles.main}>
        <h1 className={styles.title}>
          Welcome to <a href="https://nextjs.org">Job Scraper</a>
        </h1>

        <p className={styles.description}>
          Backend connection status: <code className={styles.code}>{apiStatus}</code>
        </p>
      </main>
    </div>
  )
}
```

### Step 10: Create README with Instructions

Create a `README.md` file at the project root:

```markdown
# Job Scraper Platform

A job scraping and matching platform using Next.js, Nest.js, PostgreSQL, and Python.

## Setup Requirements

- Node.js (v16+)
- PostgreSQL
- npm or yarn

## Development

1. Clone the repository
2. Install dependencies: `npm install`
3. Set up the database:
   - Create a PostgreSQL database named 'job_scraper'
   - Update the .env file in apps/backend with your database credentials
4. Start the development servers: `npm run dev`
   - Frontend will run on: http://localhost:3000
   - Backend will run on: http://localhost:3001

## Project Structure

- `apps/frontend`: Next.js frontend application
- `apps/backend`: Nest.js backend API
```

### Step 11: Install Additional Development Tools

```bash
# Install ESLint and Prettier at the root level
npm install --save-dev eslint prettier eslint-config-prettier eslint-plugin-prettier
```

### Step 12: Make Your First Commit

```bash
git add .
git commit -m "Initial project setup - Phase 1 complete"
```

## Next Steps

After completing these steps, you should have:

1. A functional monorepo structure
2. A running Next.js frontend
3. A running Nest.js backend with PostgreSQL connection
4. Basic communication between frontend and backend
5. A foundation ready for implementing the core features in Phase 2

To verify everything is working correctly, run `npm run dev` at the project root and ensure both the frontend and backend start without errors, and that the frontend can successfully call the backend health check endpoint.

# In one terminal window, start the frontend
cd apps/frontend
npm run dev

# In another terminal window, start the backend
cd apps/backend
npm run start:dev

Please guide me to complete phase 01 step by step. If it is too long to answer, you can breakdown into few parts. 